<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>X-Plane Plugin Boilerplate | My Universe</title><meta name=author content="daemotron"><meta name=description content="X-Plane has a well-documented, accessible API, making it relatively easy to write plugins for the simulator. In this post I&rsquo;m going to demonstrate how a basic plugin boilerplate can look like, and how to build it on different platforms.
Let&rsquo;s get started with some basics: X-Plane plugins are dynamically linked libraries, which are loaded by X-Plane at runtime. They have to provide an API as defined by the X-Plane SDK, so X-Plane can access the plugin via defined entry points."><meta name=keywords content="blog,developer,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="X-Plane Plugin Boilerplate"><meta name=twitter:description content="X-Plane has a well-documented, accessible API, making it relatively easy to write plugins for the simulator. In this post I&rsquo;m going to demonstrate how a basic plugin boilerplate can look like, and how to build it on different platforms.
Let&rsquo;s get started with some basics: X-Plane plugins are dynamically linked libraries, which are loaded by X-Plane at runtime. They have to provide an API as defined by the X-Plane SDK, so X-Plane can access the plugin via defined entry points."><meta property="og:title" content="X-Plane Plugin Boilerplate"><meta property="og:description" content="X-Plane has a well-documented, accessible API, making it relatively easy to write plugins for the simulator. In this post I&rsquo;m going to demonstrate how a basic plugin boilerplate can look like, and how to build it on different platforms.
Let&rsquo;s get started with some basics: X-Plane plugins are dynamically linked libraries, which are loaded by X-Plane at runtime. They have to provide an API as defined by the X-Plane SDK, so X-Plane can access the plugin via defined entry points."><meta property="og:type" content="article"><meta property="og:url" content="https://daemotron.github.io/2023/01/04/x-plane-plugin-boilerplate/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-04T15:28:28+01:00"><meta property="article:modified_time" content="2023-01-04T15:28:28+01:00"><link rel=stylesheet href=/css/bootstrap.min.css crossorigin=anonymous><link href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/sass/main.css><link rel=stylesheet href=/zoomjs/zoom.min.css><script src=/js/lazysizes.min.js></script>
<link rel=apple-touch-icon href=/apple-touch-icon.png><link rel="shortcut icon" href=/favicon.png type=image/x-icon><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><link rel=icon href=/logo.svg sizes=any type=image/svg+xml></head><body><nav class="navbar navbar-default navbar-custom navbar-fixed-top invert"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=https://daemotron.github.io/>My Universe</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=/ title=Home>Home</a></li><li><a href=/archive/ title=Archive>Archive</a></li><li><a href=/about/ title=About>About</a></li><li><a href=https://github.com/daemotron/daemotron.github.io/ title=Github>Github</a></li><li class=search-icon><a href=javascript:void(0)><i class="fa fa-search"></i></a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse"),__HuxNav__={close:function(){$navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)},open:function(){$collapse.style.height="auto",$navbar.className+=" in"}};$toggle.addEventListener("click",function(){$navbar.className.indexOf("in")>0?__HuxNav__.close():__HuxNav__.open()}),document.addEventListener("click",function(e){if(e.target==$toggle)return;if(e.target.className=="icon-bar")return;__HuxNav__.close()})</script><div class=search-page><div class=search-icon-close-container><span class=search-icon-close><i class="fa fa-chevron-down"></i></span></div><div class="search-main container"><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><form></form><input type=text id=search-input placeholder="$ grep..."></form><div id=search-results class=mini-post-list></div></div></div></div></div><style type=text/css>header.intro-header{position:relative;background-image:url('')}</style><header class="intro-header style-text"><div class=header-mask></div><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags><a class=tag href=/tags/x-plane/ title=x-plane>x-plane</a>
<a class=tag href=/tags/development/ title=development>development</a>
<a class=tag href=/tags/ansi-c/ title="ansi c">ansi c</a></div><h1>X-Plane Plugin Boilerplate</h1><h2 class=subheading></h2><span class=meta>Posted by daemotron
on Wed, Jan 4, 2023</span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><p><a href=https://www.x-plane.com target=_blank>X-Plane</a> has a well-documented, accessible <a href=https://developer.x-plane.com/sdk/ target=_blank>API</a>, making it relatively easy to write plugins for the simulator. In this post I&rsquo;m going to demonstrate how a basic plugin boilerplate can look like, and how to build it on different platforms.</p><p>Let&rsquo;s get started with some basics: X-Plane plugins are dynamically linked libraries, which are loaded by X-Plane at runtime. They have to provide an API as defined by the X-Plane SDK, so X-Plane can access the plugin via defined entry points. The <a href=https://developer.x-plane.com/sdk/ target=_blank>API documentation</a> explains all this, and also provides examples for basic and more advanced plugins. For this post I am going to use a very barebone plugin which does nothing except existing in X-Plane.</p><h4 id=the-furious-five>The Furious Five<a class=anchorjs-link href=#the-furious-five></a></h4><p>Any X-Plane plugin has to implement these five callbacks &mdash; together they constitute the most basic API any plugin must implement:</p><ul><li><code>XPluginStart</code> is called to initialize the plugin (e.g. when X-Plane starts)</li><li><code>XPluginStop</code> is called when the plugin is stopped (e.g. when X-Plane shuts down)</li><li><code>XPluginEnable</code> is called whenever the plugin gets enabled (e.g. via the plugin admin, or after having initialized the plugin)</li><li><code>XPluginDisable</code> is called whenever the plugin gets disabled (e.g. when X-Plane&rsquo;s configuration menu is opened)</li><li><code>XPluginReceiveMessage</code> is called when a message is sent to the plugin &mdash; either by X-Plane itself, or by a third-party plugin</li></ul><p>A plugin can have and register more callbacks, but these five are the mandatory minimum. An absolute barebone plugin could therefore look like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#ff79c6>#include</span> <span style=color:#ff79c6>&lt;CHeaders/XPLM/XPLMPlugin.h&gt;</span><span style=color:#ff79c6>
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span><span style=color:#ff79c6></span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>PLUGIN_API <span style=color:#8be9fd>int</span> <span style=color:#50fa7b>XPluginStart</span>(<span style=color:#8be9fd>char</span> <span style=color:#ff79c6>*</span>outName, <span style=color:#8be9fd>char</span> <span style=color:#ff79c6>*</span>outSig, <span style=color:#8be9fd>char</span> <span style=color:#ff79c6>*</span>outDesc)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>{
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>    <span style=color:#50fa7b>strcpy</span>(outName, <span style=color:#f1fa8c>&#34;DaemoPlug&#34;</span>);
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>    <span style=color:#50fa7b>strcpy</span>(outSig, <span style=color:#f1fa8c>&#34;net.daemotron.plugin&#34;</span>);
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>    <span style=color:#50fa7b>strcpy</span>(outDesc, <span style=color:#f1fa8c>&#34;The uber cool plugin that does absolutely nothing.&#34;</span>);
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>1</span>;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>}
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>PLUGIN_API <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>XPluginStop</span>(<span style=color:#8be9fd>void</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>{
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span>}
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span>PLUGIN_API <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>XPluginDisable</span>(<span style=color:#8be9fd>void</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span>{
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span>}
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span><span>PLUGIN_API <span style=color:#8be9fd>int</span> <span style=color:#50fa7b>XPluginEnable</span>(<span style=color:#8be9fd>void</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25</span><span>{
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26</span><span>    <span style=color:#ff79c6>return</span> <span style=color:#bd93f9>1</span>;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27</span><span>}
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30</span><span>PLUGIN_API <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>XPluginReceiveMessage</span>(XPLMPluginID inFrom, <span style=color:#8be9fd>int</span> inMsg, <span style=color:#8be9fd>void</span> <span style=color:#ff79c6>*</span>inParam)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31</span><span>{
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32</span><span> 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33</span><span>}
</span></span></code></pre></div><p>Of course this code could be written more compactly, but in a fully working plugin, all these API functions will have to be implemented in order to make the plugin actually do something.</p><h4 id=organizing-files>Organizing Files<a class=anchorjs-link href=#organizing-files></a></h4><p>There is no best practice on how to organise files of a plugin project. Here I&rsquo;m just showing you how I do organise things, since it fits well with my way of working. I use git for source code management, and I keep each plugin in its dedicated git repository. For building my plugins, I use <a href=https://cmake.org target=_blank>CMake</a>. A typical plugin boilerplate using these tools looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>+--+ Project Root Directory
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>   |
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>   +--+ SDK/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>   |
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>   +--+ src/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>   |  |
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>   |  +-- collisions
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>   |  |
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>   |  +-- main.c
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>   |
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>   +-- .gitignore
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>   |
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>   +-- CMakeLists.txt
</span></span></code></pre></div><ul><li>The <code>SDK</code> folder contains the X-Plane SDK as downloaded from Laminar&rsquo;s <a href=https://developer.x-plane.com/sdk/plugin-sdk-downloads/ target=_blank>Developer Site</a>.</li><li>The <code>src</code> folder contains my source code files. I usually call the main file <code>main.c</code>, where the Furious Five are implemented.</li><li>The file <code>src/collisions</code> holds symbol names the linker needs to know about.</li><li>In the <code>.gitignore</code> file, I exclude the SDK and the <code>build</code> directory from git, and eventual folders created by an IDE or editor</li><li>The <code>CMkaeLists.txt</code> file contains the build instructions for the plugin</li></ul><p>The content of the <code>src/collisions</code> linker script looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>{
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span> global:
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span> XPluginStart;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span> XPluginStop;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span> XPluginEnable;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span> XPluginDisable;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span> XPluginReceiveMessage;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span> local:
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span> *;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>};
</span></span></code></pre></div><h4 id=building-the-plugin-on-windows>Building The Plugin On Windows<a class=anchorjs-link href=#building-the-plugin-on-windows></a></h4><p>With ~60%, Windows is the most-used operating system among X-Plane users<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>, so let&rsquo;s start with building the plugin for this platform. Again there are various options which compilers could be used. I picked the <a href=https://www.mingw-w64.org/ target=_blank>MinGW-w64</a> distribution provided by <a href=https://winlibs.com/ target=_blank>WinLibs</a>. On my system, I have both distributions, the Win64 and Win32 variant. The Win32 variant is only needed when building plugins for older versions of X-Plane (prior to 10.20). In this example I&rsquo;m going to focus on the 64 bit variant only &mdash; X-Plane 11 and newer only work with 64 bit plugins.</p><p>For this example, I used the <em>GCC 12.2.0 + LLVM/Clang/LLD/LLDB 15.0.6 + MinGW-w64 10.0.0 (UCRT) - release 3</em> package in Win64 flavour. Installing is straightforward: simply download the package and extract it with <a href=https://www.7-zip.org/ target=_blank>7zip</a>. I usually keep my MinGW installations directly on <code>C:\</code>, so this one lives at <code>C:\mingw64</code> on my system. To make the tools accessible on the command line, you&rsquo;ll need to add <code>C:\mingw64\bin</code> to your <code>PATH</code> environment variable. That&rsquo;s it already, installation done.</p><p><a href=https://cmake.org target=_blank>CMake</a> comes with its own installer, so setting it up on Windows is easy and straight forward. In addition I use <a href=https://cmder.app/ target=_blank>cmder</a> as console emulator on Windows &mdash; IMO much more comfortable than the default command line, but of course the normal command line will do as well.</p><p>Before we can build the plugin, we will need to create some build instructions, helping CMake understand what we expect it to do. Here&rsquo;s a simple <code>CMakeLists.txt</code> file I used to compile the example plugin:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#8be9fd;font-style:italic>cmake_minimum_required</span> (<span style=color:#f1fa8c>VERSION</span> <span style=color:#f1fa8c>3.2</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span><span style=color:#8be9fd;font-style:italic>set</span>(<span style=color:#f1fa8c>CMAKE_C_COMPILER</span> <span style=color:#f1fa8c>&#34;gcc&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span><span style=color:#8be9fd;font-style:italic>set</span>(<span style=color:#f1fa8c>CMAKE_CXX_COMPILER</span> <span style=color:#f1fa8c>&#34;g++&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span><span style=color:#8be9fd;font-style:italic>project</span> (<span style=color:#f1fa8c>DaemoPlug</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span><span style=color:#6272a4># Detect SDK
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span><span style=color:#6272a4></span><span style=color:#8be9fd;font-style:italic>get_filename_component</span>(<span style=color:#f1fa8c>SDK_PATH</span> <span style=color:#f1fa8c>&#34;./SDK/&#34;</span> <span style=color:#f1fa8c>ABSOLUTE</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span><span style=color:#8be9fd;font-style:italic>message</span>(<span style=color:#f1fa8c>&#34;-- Detecting X-Plane SDK path&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span><span style=color:#8be9fd;font-style:italic>if</span>(<span style=color:#f1fa8c>NOT</span> <span style=color:#f1fa8c>EXISTS</span> <span style=color:#ff79c6>${</span><span style=color:#8be9fd;font-style:italic>SDK_PATH</span><span style=color:#ff79c6>}</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>    <span style=color:#8be9fd;font-style:italic>message</span>(<span style=color:#f1fa8c>FATAL_ERROR</span> <span style=color:#f1fa8c>&#34;Missing SDK folder: ${SDK_PATH}&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span><span style=color:#8be9fd;font-style:italic>endif</span>(<span style=color:#f1fa8c>NOT</span> <span style=color:#f1fa8c>EXISTS</span> <span style=color:#ff79c6>${</span><span style=color:#8be9fd;font-style:italic>SDK_PATH</span><span style=color:#ff79c6>}</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span><span style=color:#6272a4># Copy symbol collisions file
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span><span style=color:#6272a4></span><span style=color:#8be9fd;font-style:italic>configure_file</span>(<span style=color:#f1fa8c>&#34;src/collisions&#34;</span> <span style=color:#f1fa8c>&#34;collisions&#34;</span> <span style=color:#f1fa8c>COPYONLY</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span><span style=color:#6272a4># Global compiler flags
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span><span style=color:#6272a4></span><span style=color:#8be9fd;font-style:italic>set</span> (<span style=color:#f1fa8c>GCC_DEFAULT_FLAGS</span> <span style=color:#f1fa8c>-std=c++0x</span> <span style=color:#f1fa8c>-Wall</span> <span style=color:#f1fa8c>-Wunreachable-code</span> <span style=color:#f1fa8c>-pipe</span> <span style=color:#f1fa8c>-Wextra</span> <span style=color:#f1fa8c>-Wshadow</span> <span style=color:#f1fa8c>-Wfloat-equal</span> <span style=color:#f1fa8c>-pedantic</span> <span style=color:#f1fa8c>-fvisibility=hidden</span> <span style=color:#f1fa8c>-O2</span> <span style=color:#f1fa8c>-fmessage-length=0</span> <span style=color:#f1fa8c>-D_FORTIFY_SOURCE=2</span> <span style=color:#f1fa8c>-fstack-protector</span> <span style=color:#f1fa8c>-funwind-tables</span> <span style=color:#f1fa8c>-fasynchronous-unwind-tables</span> <span style=color:#f1fa8c>-W</span> <span style=color:#f1fa8c>-DXPLM200</span> <span style=color:#f1fa8c>-DXPLM210</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span><span style=color:#6272a4># Include files
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span><span style=color:#6272a4></span><span style=color:#8be9fd;font-style:italic>include_directories</span> (<span style=color:#f1fa8c>&#34;./src&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span><span><span style=color:#8be9fd;font-style:italic>include_directories</span> (<span style=color:#f1fa8c>&#34;${SDK_PATH}&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25</span><span><span style=color:#8be9fd;font-style:italic>include_directories</span> (<span style=color:#f1fa8c>&#34;${SDK_PATH}/CHeaders/XPLM&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26</span><span><span style=color:#8be9fd;font-style:italic>include_directories</span> (<span style=color:#f1fa8c>&#34;${SDK_PATH}/CHeaders/Wrappers&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27</span><span><span style=color:#8be9fd;font-style:italic>include_directories</span> (<span style=color:#f1fa8c>&#34;${SDK_PATH}/CHeaders/Widgets&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29</span><span><span style=color:#8be9fd;font-style:italic>file</span>(<span style=color:#f1fa8c>GLOB_RECURSE</span> <span style=color:#f1fa8c>SOURCES</span> <span style=color:#f1fa8c>&#34;src/*.c&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31</span><span><span style=color:#8be9fd;font-style:italic>if</span>(<span style=color:#f1fa8c>WIN32</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32</span><span>    <span style=color:#8be9fd;font-style:italic>cmake_policy</span>(<span style=color:#f1fa8c>SET</span> <span style=color:#f1fa8c>CMP0015</span> <span style=color:#f1fa8c>NEW</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33</span><span>    <span style=color:#8be9fd;font-style:italic>set</span> (<span style=color:#f1fa8c>CMAKE_C_COMPILER</span> <span style=color:#f1fa8c>x86_64-w64-mingw32-gcc</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34</span><span>    <span style=color:#8be9fd;font-style:italic>set</span> (<span style=color:#f1fa8c>CMAKE_CXX_COMPILER</span> <span style=color:#f1fa8c>x86_64-w64-mingw32-g++</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35</span><span>    <span style=color:#8be9fd;font-style:italic>link_directories</span>(<span style=color:#f1fa8c>&#34;${SDK_PATH}/Libraries/Win&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36</span><span>    <span style=color:#8be9fd;font-style:italic>add_library</span>(<span style=color:#f1fa8c>WIN_RELEASE_64</span> <span style=color:#f1fa8c>SHARED</span> <span style=color:#ff79c6>${</span><span style=color:#8be9fd;font-style:italic>SOURCES</span><span style=color:#ff79c6>}</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37</span><span>    <span style=color:#8be9fd;font-style:italic>target_compile_options</span>(<span style=color:#f1fa8c>WIN_RELEASE_64</span> <span style=color:#f1fa8c>PRIVATE</span> <span style=color:#ff79c6>${</span><span style=color:#8be9fd;font-style:italic>GCC_DEFAULT_FLAGS</span><span style=color:#ff79c6>}</span> <span style=color:#f1fa8c>-s</span> <span style=color:#f1fa8c>-c</span> <span style=color:#f1fa8c>-fno-stack-protector</span> <span style=color:#f1fa8c>-static-libgcc</span> <span style=color:#f1fa8c>-static-libstdc++</span> <span style=color:#f1fa8c>-DXPLM200</span> <span style=color:#f1fa8c>-DIBM</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38</span><span>    <span style=color:#8be9fd;font-style:italic>target_link_libraries</span>(<span style=color:#f1fa8c>WIN_RELEASE_64</span> <span style=color:#f1fa8c>XPLM_64</span> <span style=color:#f1fa8c>XPWidgets_64</span> <span style=color:#f1fa8c>-static-libgcc</span> <span style=color:#f1fa8c>-static-libstdc++</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>WIN_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>LINK_FLAGS</span> <span style=color:#f1fa8c>&#34;-s -Wl,--version-script=collisions&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>WIN_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>PREFIX</span> <span style=color:#f1fa8c>&#34;&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>WIN_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>SUFFIX</span> <span style=color:#f1fa8c>&#34;&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>WIN_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>LIBRARY_OUTPUT_DIRECTORY</span> <span style=color:#f1fa8c>&#34;DaemoPlug/64/&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>WIN_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>OUTPUT_NAME</span> <span style=color:#f1fa8c>&#34;win.xpl&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44</span><span><span style=color:#8be9fd;font-style:italic>endif</span>()
</span></span></code></pre></div><p>This CMake file instructs CMake to</p><ol><li>use <code>gcc</code> as compiler</li><li>detect the SDK path</li><li>define global compiler flags, including the X-Plane API versions we want to use (<code>-DXPLM200</code>)</li><li>define include directories including our source folder and the SDK headers</li><li>consider all <code>*.c</code> files in <code>src/</code> as source files</li><li>explicitly use the 64 bit mingw compilers on Windows</li><li>build a shared library linked against the Windows-specific libraries in the SDK, and name it <code>win.xpl</code></li></ol><p>You can amend all this to your needs &mdash; you can add the <code>XPLM300</code>, <code>XPLM301</code> and <code>XPLM303</code> APIs if you want to address only X-Plane 11.50 and newer, or use the Fat Plugins (XPLM 3.0 API) format instead of the Fat Plugins (XPLM 2.1 API) format used in the example above.</p><p>To build the plugin, issue these instructions on a command line in the project folder:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmd data-lang=cmd><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#ff79c6>mkdir</span> build
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#ff79c6>cd</span> build
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>cmake -G <span style=color:#f1fa8c>&#34;MinGW Makefiles&#34;</span> ../
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>mingw32-make
</span></span></code></pre></div><h4 id=does-it-work>Does It Work?<a class=anchorjs-link href=#does-it-work></a></h4><p>Now we have build our plugin, it&rsquo;s time to see if it actually loads in X-Plane. in <code>X-Plane/Resources/plugins</code> create a folder <code>DaemoPlug</code> (or whatever you&rsquo;d like to call it), and a subfolder <code>64</code>. Copy the freshly created <code>win.xpl</code> file into that subfolder and launch X-Plane. In X-Plane&rsquo;s log file, you should find a line similar to this one:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>Loaded: D:\X-Plane 12/Resources/plugins/DaemoPlug/64/win.xpl (net.daemotron.plugin).
</span></span></code></pre></div><p>Also in the Plugin Admin window X-Plane will show you the plugin:</p><p><figure><a class=paragraph-image><img data-src=images/xp-plugin-admin.png data-action=zoom alt="X-Plane Plugin Admin" class=lazyload></a></figure></p><h4 id=building-on-mac-and-linux>Building on Mac and Linux<a class=anchorjs-link href=#building-on-mac-and-linux></a></h4><p>To build the plugin on Mac or Linux, the respective build tools have to be installed. For Mac, this would be <a href=https://developer.apple.com/xcode/ target=_blank>Xcode</a> (or at least the Xcode command line tools), and on Linux, at least GCC and GNU make would be required (Ubuntu provides all required tools in the <a href=https://packages.ubuntu.com/jammy/build-essential target=_blank>build-essential</a> package).</p><p>Also currently our CMakeLists.txt only covers building on Windows. Adding these parts to the bottom of the file will enable builds on Linux and Mac:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#8be9fd;font-style:italic>if</span>(<span style=color:#f1fa8c>LINUX</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>    <span style=color:#8be9fd;font-style:italic>add_library</span>(<span style=color:#f1fa8c>LIN_RELEASE_64</span> <span style=color:#f1fa8c>SHARED</span> <span style=color:#ff79c6>${</span><span style=color:#8be9fd;font-style:italic>SOURCES</span><span style=color:#ff79c6>}</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>    <span style=color:#8be9fd;font-style:italic>target_compile_options</span>(<span style=color:#f1fa8c>LIN_RELEASE_64</span> <span style=color:#f1fa8c>PRIVATE</span> <span style=color:#ff79c6>${</span><span style=color:#8be9fd;font-style:italic>GCC_DEFAULT_FLAGS</span><span style=color:#ff79c6>}</span> <span style=color:#f1fa8c>-m64</span> <span style=color:#f1fa8c>-fPIC</span> <span style=color:#f1fa8c>-DLIN</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>LIN_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>LINK_FLAGS</span> <span style=color:#f1fa8c>&#34;-Wl,--version-script=collisions&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>LIN_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>PREFIX</span> <span style=color:#f1fa8c>&#34;&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>LIN_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>SUFFIX</span> <span style=color:#f1fa8c>&#34;&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>LIN_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>LIBRARY_OUTPUT_DIRECTORY</span> <span style=color:#f1fa8c>&#34;DaemoPlug/64/&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>LIN_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>OUTPUT_NAME</span> <span style=color:#f1fa8c>&#34;lin.xpl&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span><span style=color:#8be9fd;font-style:italic>endif</span>()
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span><span style=color:#8be9fd;font-style:italic>if</span>(<span style=color:#f1fa8c>APPLE</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>    <span style=color:#8be9fd;font-style:italic>cmake_policy</span>(<span style=color:#f1fa8c>SET</span> <span style=color:#f1fa8c>CMP0042</span> <span style=color:#f1fa8c>NEW</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>    <span style=color:#8be9fd;font-style:italic>set</span> (<span style=color:#f1fa8c>CMAKE_SYSTEM_NAME</span> <span style=color:#f1fa8c>Darwin</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>    <span style=color:#8be9fd;font-style:italic>set</span> (<span style=color:#f1fa8c>CMAKE_CXX_COMPILER</span> <span style=color:#f1fa8c>g++</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>    <span style=color:#8be9fd;font-style:italic>set</span> (<span style=color:#f1fa8c>CMAKE_OSX_ARCHITECTURES</span> <span style=color:#f1fa8c>&#34;x86_64;arm64&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span>    <span style=color:#8be9fd;font-style:italic>add_library</span>(<span style=color:#f1fa8c>MAC_RELEASE_64</span> <span style=color:#f1fa8c>SHARED</span> <span style=color:#ff79c6>${</span><span style=color:#8be9fd;font-style:italic>SOURCES</span><span style=color:#ff79c6>}</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span>    <span style=color:#8be9fd;font-style:italic>target_compile_options</span>(<span style=color:#f1fa8c>MAC_RELEASE_64</span> <span style=color:#f1fa8c>PRIVATE</span> <span style=color:#ff79c6>${</span><span style=color:#8be9fd;font-style:italic>GCC_DEFAULT_FLAGS</span><span style=color:#ff79c6>}</span> <span style=color:#f1fa8c>-nostdinc++</span> <span style=color:#f1fa8c>-I/Library/Developer/CommandLineTools/usr/include/c++/v1</span> <span style=color:#f1fa8c>-DXPLM200</span> <span style=color:#f1fa8c>-DAPL</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span>    <span style=color:#8be9fd;font-style:italic>target_link_libraries</span>(<span style=color:#f1fa8c>MAC_RELEASE_64</span> <span style=color:#f1fa8c>&#34;-F${SDK_PATH}/Libraries/Mac&#34;</span> <span style=color:#f1fa8c>&#34;-framework XPLM&#34;</span> <span style=color:#f1fa8c>&#34;-framework XPWidgets&#34;</span> <span style=color:#f1fa8c>&#34;-framework OpenGL&#34;</span> <span style=color:#f1fa8c>&#34;-nodefaultlibs&#34;</span> <span style=color:#f1fa8c>&#34;-lc++&#34;</span> <span style=color:#f1fa8c>&#34;-lc++abi&#34;</span> <span style=color:#f1fa8c>&#34;-lm&#34;</span> <span style=color:#f1fa8c>&#34;-lc&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>MAC_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>LINK_FLAGS</span> <span style=color:#f1fa8c>&#34;-m64 -fvisibility=hidden&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>MAC_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>PREFIX</span> <span style=color:#f1fa8c>&#34;&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>MAC_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>SUFFIX</span> <span style=color:#f1fa8c>&#34;&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>MAC_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>LIBRARY_OUTPUT_DIRECTORY</span> <span style=color:#f1fa8c>&#34;DaemoPlug/64/&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span>    <span style=color:#8be9fd;font-style:italic>set_target_properties</span>(<span style=color:#f1fa8c>MAC_RELEASE_64</span> <span style=color:#f1fa8c>PROPERTIES</span> <span style=color:#f1fa8c>OUTPUT_NAME</span> <span style=color:#f1fa8c>&#34;mac.xpl&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span><span><span style=color:#8be9fd;font-style:italic>endif</span>()
</span></span></code></pre></div><p>Building the plugin on these systems is similar to Windows, with just one difference &mdash; they use <code>(g)make</code> instead of <code>mingw32-make</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>mkdir build
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#8be9fd;font-style:italic>cd</span> build
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>cmake ../
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>make
</span></span></code></pre></div><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Source: <a href=http://dashboard.x-plane.com/ target=_blank>X-Plane Usage Data</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><hr style=visibility:hidden><ul class=pager><li class=previous><a href=/2023/01/03/reload-2023/ data-toggle=tooltip data-placement=top title="Reload 2023">Previous<br><span>Reload 2023</span></a></li></ul><hr style=visibility:hidden></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5>FEATURED TAGS</h5><div class=tags><a href=/tags/ansi-c/>ansi c</a>
<a href=/tags/blog/>blog</a>
<a href=/tags/development/>development</a>
<a href=/tags/django/>django</a>
<a href=/tags/git/>git</a>
<a href=/tags/github/>github</a>
<a href=/tags/hubpress/>hubpress</a>
<a href=/tags/hugo/>hugo</a>
<a href=/tags/python/>python</a>
<a href=/tags/x-plane/>x-plane</a></div></section></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href=https://github.com/daemotron target=_blank><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://linkedin.com/in/jescofreund target=_blank><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://gitlab.com/daemotron target=_blank><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i>
<i class="fab fa-gitlab fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://stackoverflow.com/users/5217009/daemotron target=_blank><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i>
<i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i></span></a></li><li><a href=/index.xml target=_blank><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; My Universe 2023<br>Powered by <a href=https://gohugo.io>Hugo</a></p></div></div></div></footer><script src=/js/jquery.min.js></script>
<script src=/js/bootstrap.min.js crossorigin=anonymous></script>
<script src=/js/hux-blog.min.c4ea77041cd3edbfc8b2622cd887a9a5d8760a4162d14489e36d2a3fa4c90172.js></script>
<script src=/js/simple-jekyll-search.min.js></script>
<script src=/js/search.min.53bce5da475b4d362500e5ce5dddfa22e20e1b9018777411d2020b4b839c9310.js></script>
<script src=/zoomjs/zoom.min.js></script></body></html>