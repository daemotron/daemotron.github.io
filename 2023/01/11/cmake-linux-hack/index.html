<!doctype html><html itemscope itemtype=https://schema.org/WebPage class=no-js lang=en><head prefix="og: http://ogp.me/ns#"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=siteBaseUrl content="https://www.my-universe.com/"><meta name=author content="daemotron"><meta name=description content="Mens Insana in Corpore Ignavo"><meta name=keywords content="blog,developer,personal"><meta name=generator content="Hugo 0.142.0"><title>CMake Linux Hack | My Universe
</title><meta itemprop=name content="CMake Linux Hack"><meta itemprop=description content="CMake Linux Hack - Mens Insana in Corpore Ignavo"><meta property="og:site_name" content="My Universe"><meta property="og:url" content="https://www.my-universe.com/2023/01/11/cmake-linux-hack/"><meta property="og:site_name" content="My Universe"><meta property="og:title" content="CMake Linux Hack"><meta property="og:description" content="Beginning with its most recent version (3.25 at the time of writing this post), CMake provides the LINUX variable, which I used in my previous post. Of course, developers on Linux tend to use the version of CMake they can install from their distribution’s package manager. On Ubuntu 22.04 LTS that would be 3.22, and even on the most recent Ubuntu version (22.10) we’re at 3.24 — meaning this variable is not available in these CMake versions."><meta property="og:locale" content="en_gb"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-01-11T00:16:46+01:00"><meta property="article:modified_time" content="2023-01-11T00:16:46+01:00"><meta property="article:tag" content="Cmake"><meta property="article:tag" content="Development"><meta property="article:tag" content="C/C++"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><script src=/modernizr-simple.js></script><link rel=canonical href=https://www.my-universe.com/2023/01/11/cmake-linux-hack/><link rel=stylesheet href=https://www.my-universe.com/theme.css></head><body class=bilberry-hugo-theme><nav><div class=container><ul class=topnav><li><a href=https://www.my-universe.com/page/about/>About</a></li><li><a href=https://www.my-universe.com/page/legal/>Legal</a></li></ul></div></nav><header><div class=container><div class=logo><a href=/ class=logo><img src=/img/avataaars.png alt>
<span class=overlay><i class="fa fa-home"></i></span></a></div><div class=titles><h3 class=title><a href=/>My Universe</a></h3><span class=subtitle>Mens Insana in Corpore Ignavo</span></div><div class=toggler><i class="fa fa-bars" aria-hidden=true></i></div></div></header><div class="main container"><div class="article-wrapper u-cf single"><a class=bubble href=https://www.my-universe.com/2023/01/11/cmake-linux-hack/><i class="fas fa-fw fa-pencil-alt"></i></a><article class="default article"><div class=content><h1 class=article-title><a href=https://www.my-universe.com/2023/01/11/cmake-linux-hack/>CMake Linux Hack</a></h1><div class=meta><span class="date moment">2023-01-11</span></div><p>Beginning with its most recent version (3.25 at the time of writing this post), <a href=https://cmake.org/>CMake</a> provides the <a href=https://cmake.org/cmake/help/latest/variable/LINUX.html>LINUX</a> variable, which I used in <a href=/2023/01/04/x-plane-plugin-boilerplate/>my previous post</a>. Of course, developers on Linux tend to use the version of CMake they can install from their distribution&rsquo;s package manager. On Ubuntu 22.04 LTS that would be 3.22, and even on the most recent Ubuntu version (22.10) we&rsquo;re at 3.24 &mdash; meaning this variable is not available in these CMake versions.</p><p>To work around this issue for older CMake versions, there&rsquo;s a simple, yet effective hack &mdash; just insert this somewhere at the top of your <code>CMakeLists.txt</code> file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#8be9fd;font-style:italic>if</span>(<span style=color:#f1fa8c>CMAKE_VERSION</span> <span style=color:#f1fa8c>VERSION_LESS</span> <span style=color:#f1fa8c>&#34;3.25&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>    <span style=color:#8be9fd;font-style:italic>if</span>(<span style=color:#f1fa8c>UNIX</span> <span style=color:#f1fa8c>AND</span> <span style=color:#f1fa8c>NOT</span> <span style=color:#f1fa8c>APPLE</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>        <span style=color:#8be9fd;font-style:italic>set</span>(<span style=color:#f1fa8c>LINUX</span> <span style=color:#f1fa8c>TRUE</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>        <span style=color:#8be9fd;font-style:italic>message</span>(<span style=color:#f1fa8c>&#34;-- Linux detected&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>    <span style=color:#8be9fd;font-style:italic>endif</span>()
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span><span style=color:#8be9fd;font-style:italic>endif</span>()
</span></span></code></pre></div><p>This little piece of CMake script sets the <code>LINUX</code> variable to <code>true</code> if the CMake version is less than 3.25, running on a unixoid system, but not on an Apple system. Of course this is not really a correct way to detect whether we&rsquo;re on Linux or not &mdash; this condition would be <code>true</code> on a lot of different systems (BSDs, Cygwin, etc.). However, given we&rsquo;d build an X-Plane plugin only on Windows, macOS and Linux, this condition is sufficient to rule out Windows and macOS, leaving only Linux as possibility. Just keep this in mind when copying a <code>CMakeLists.txt</code> file or parts of it for using them in other projects&mldr;</p></div><div class=footer><div class=tags><i class="fa fa-tags"></i><div class=links><a href=https://www.my-universe.com/tags/cmake/>Cmake</a>
<a href=https://www.my-universe.com/tags/development/>Development</a>
<a href=https://www.my-universe.com/tags/c/c++/>C/C++</a></div></div></div></article></div><div id=comments-container></div></div><footer><div class=container><div class=recent-posts><strong>Latest posts</strong><ul><li><a href=https://www.my-universe.com/2025/02/14/pilatus-pc-12-x-plane-wallpaper/>Pilatus PC-12 X-Plane Wallpaper</a></li><li><a href=https://www.my-universe.com/2024/04/06/configuration-to-go/>Configuration to Go</a></li><li><a href=https://www.my-universe.com/2023/10/31/elegant-python-exceptions/>Elegant Python Exceptions</a></li><li><a href=https://www.my-universe.com/2023/09/27/dataref-caching-revisited/>Dataref Caching Revisited</a></li><li><a href=https://www.my-universe.com/2023/09/23/configuration-file-with-xppl/>Configuration File with XPPL</a></li><li><a href=https://www.my-universe.com/2023/09/22/introducing-xppl/>Introducing XPPL</a></li><li><a href=https://www.my-universe.com/2023/04/20/cache-your-datarefs/>Cache Your Datarefs</a></li></ul></div><div class=categories><a href=https://www.my-universe.com/categories/><strong>Categories</strong></a><ul><li><a href=https://www.my-universe.com/categories/x-plane/>X-Plane (4)</a></li><li><a href=https://www.my-universe.com/categories/website/>Website (2)</a></li><li><a href=https://www.my-universe.com/categories/go/>Go (1)</a></li><li><a href=https://www.my-universe.com/categories/python/>Python (1)</a></li></ul></div><div class=right><div class=external-profiles><strong>Social media</strong>
<a href=https://github.com/daemotron target=_blank rel><em class="fab fa-github"></em></a>
<a href=https://gitlab.com/daemotron target=_blank rel><em class="fab fa-gitlab"></em></a>
<a href=https://stackoverflow.com/users/5217009/daemotron target=_blank rel=me><em class="fab fa-stack-overflow"></em></a>
<a href=https://www.linkedin.com/in/jescofreund target=_blank rel><em class="fab fa-linkedin"></em></a>
<a href=/index.xml target=_blank rel><em class="fas fa-rss"></em></a></div><div class=archive><a href=https://www.my-universe.com/archive/><strong>Archive</strong></a></div></div></div></footer><div class=credits><div class=container><div class=copyright><a href=https://www.my-universe.com/ target=_blank>&copy;
2017 - 2025
My Universe</a></div><div class=author><a href=https://gohugo.io/ target=_blank>Powered by Hugo & Bilberry Hugo Theme</a></div></div></div><script src=https://www.my-universe.com/theme.js></script></body></html>